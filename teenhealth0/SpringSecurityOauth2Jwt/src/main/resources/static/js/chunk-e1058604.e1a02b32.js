(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1058604","chunk-2d0e5f6f","chunk-2d0dd0be"],{"805e":function(t,e,n){"use strict";n.r(e),n.d(e,"crudOptions",(function(){return r}));var a=n("6f23"),o=n("22ce"),r={options:{height:"100%"},viewOptions:{disabled:!1},pageOptions:{export:{local:!0,title:"无器械训练处方数据",formatter:function(t,e){t["tStudent.studentNo"]=t.tStudent.studentNo,t["tStudent.studentName"]=t.tStudent.studentName,t["createTime"]=Object(a["a"])(t.createTime,"yyyy-MM-DD HH:mm:ss"),0===t.tStudent.sex&&(t["tStudent.sex"]="未知"),1===t.tStudent.sex&&(t["tStudent.sex"]="男"),2===t.tStudent.sex&&(t["tStudent.sex"]="女"),0===t.isEnable&&(t["isEnable"]="已失效"),1===t.isEnable&&(t["isEnable"]="可用")}}},rowHandle:{width:190,view:{},edit:{show:!1},remove:{show:!1},custom:[{thin:!0,text:"历史处方",type:"primary",size:"small",emit:"planhistory",icon:"el-icon-tickets"}]},columns:[{title:"学号",key:"tStudent.studentNo",sortable:!0,form:{valueChange:function(t,e,n,a){a.getColumn,a.mode,a.component,a.immediate,a.getComponent;e&&Object(o["a"])({url:"/teacher/checkstudentNo1/"+e,methods:"get"}).then((function(t){311===t.code?(console.log(t.data.id),n.studentId=t.data.id,n.tStudent.studentName=t.data.studentName):200===t.code&&console.log("没有此用户！")})).catch()}}},{title:"姓名",key:"tStudent.studentName",sortable:!1},{title:"性别",key:"tStudent.sex",sortable:!1,type:"select",dict:{data:[{value:0,label:"未知"},{value:1,label:"男"},{value:2,label:"女"}]},form:{component:{show:!1}}},{title:"难度等级",key:"difficultyLevel",sortable:!0,type:"select",dict:{data:[{value:1,label:"1",color:"primary"},{value:2,label:"2",color:"primary"},{value:3,label:"3",color:"primary"},{value:4,label:"4",color:"primary"},{value:5,label:"5",color:"primary"},{value:6,label:"6",color:"primary"}]}},{title:"处方当前状态",key:"isEnable",sortable:!1,type:"select",dict:{data:[{value:0,label:"已失效",color:"danger"},{value:1,label:"可用"}]},form:{component:{show:!1}}},{title:"处方开始时间",key:"createTime",type:"datetime",sortable:!0,form:{component:{show:!1}}}]}},9772:function(t,e,n){"use strict";n.r(e),n.d(e,"GetList",(function(){return o})),n.d(e,"AddPlan",(function(){return r}));var a=n("22ce");function o(t){return Object(a["a"])({url:"/teacher/WQXPlanList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/teacher/addWQXplan",method:"post",data:{studentId:t.studentId,difficultyLevel:t.difficultyLevel}})}},"9d4c":function(t,e,n){},b26d:function(t,e,n){"use strict";var a=n("9d4c"),o=n.n(a);o.a},b802:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",{class:{"page-compact":t.crud.pageOptions.compact}},[n("d2-crud-x",t._g(t._b({ref:"d2Crud",attrs:{"add-rules":t.addRules,"add-title":"新增训练处方"},on:{planhistory:t.handlePlanhistory},scopedSlots:t._u([{key:"priceGroupTitleSlot",fn:function(e){return n("div",{},[n("h3",{staticClass:"group-title",staticStyle:{display:"inline"}},[n("i",{staticClass:"header-icon",class:e.group.icon}),t._v(" "+t._s(e.group.title))])])}}])},"d2-crud-x",t._crudProps,!1),t._crudListeners),[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{slot:"header",size:"medium",type:"primary"},on:{click:t.addRow},slot:"header"},[n("i",{staticClass:"el-icon-plus"}),t._v("新增训练处方 ")]),n("crud-toolbar",t._g(t._b({attrs:{search:null,compact:t.crud.pageOptions.compact,columns:t.crud.columns},on:{"update:compact":function(e){return t.$set(t.crud.pageOptions,"compact",e)},refresh:function(e){return t.doRefresh()},"columns-filter-changed":t.handleColumnsFilterChanged}},"crud-toolbar",t._crudToolbarProps,!1),t._crudToolbarListeners))],1)])],1)},o=[],r=n("805e"),d=n("1fbf"),u=n("9772"),l=(n("22ce"),{name:"non-equipmentPlan",mixins:[d["d2CrudPlus"].crud],data:function(){var t=this;return{addRules:{tStudent:{studentNo:[{required:!1,message:"请输入学号",trigger:"blur"},{required:!0,validator:function(e,n,a){""!==n&&t.$axios("/teacher/checkstudentNo1/"+n).then((function(t){200===t.data.code?a(new Error("该用户不存在，请重新输入！")):311===t.data.code&&(console.log(t.data.data.id),a())})).catch()},trigger:"blur"}]},difficultyLevel:[{required:!0,message:"请选择训练难度等级",trigger:"blur"}]}}},methods:{getCrudOptions:function(){return r["crudOptions"]},pageRequest:function(t){return Object(u["GetList"])(t)},addRequest:function(t){return Object(u["AddPlan"])(t)},handlePlanhistory:function(t){this.$router.push({path:"/system/teacher/non-equHistoryPlan",query:{studentId:t.row.studentId,studentName:t.row.tStudent.studentName,studentNo:t.row.tStudent.studentNo}})}}}),s=l,c=(n("b26d"),n("2877")),i=Object(c["a"])(s,a,o,!1,null,null,null);e["default"]=i.exports}}]);