(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1498689c","chunk-2d0e2156","chunk-2d0b5df7"],{"1b6f":function(t,e,r){"use strict";r.r(e),r.d(e,"crudOptions",(function(){return s}));var n=r("6f23"),o=r("22ce"),s={options:{height:"100%"},viewOptions:{disabled:!1},pageOptions:{export:{local:!0,title:"划船器训练处方数据",formatter:function(t,e){t["tStudent.studentNo"]=t.tStudent.studentNo,t["tStudent.studentName"]=t.tStudent.studentName,t["createTime"]=Object(n["a"])(t.createTime,"yyyy-MM-DD HH:mm:ss"),0===t.tStudent.sex&&(t["tStudent.sex"]="未知"),1===t.tStudent.sex&&(t["tStudent.sex"]="男"),2===t.tStudent.sex&&(t["tStudent.sex"]="女"),0===t.isEnable&&(t["isEnable"]="已失效"),1===t.isEnable&&(t["isEnable"]="可用")}}},rowHandle:{width:310,view:{show:!1},edit:{text:"更新处方",type:"info"},remove:{show:!1},custom:[{thin:!0,text:"训练记录",type:"success",size:"small",emit:"plantraining",icon:"el-icon-bicycle"},{thin:!0,text:"历史处方",type:"primary",size:"small",emit:"planhistory",icon:"el-icon-tickets"}]},columns:[{title:"studentId",key:"studentId",sortable:!1,search:{disabled:!1},show:!1,editForm:{component:{show:!1}},addForm:{component:{show:!1}}},{title:"姓名 / 学号",key:"studentNOorName",sortable:!1,search:{disabled:!1},show:!1,form:{disabled:!0},view:{disabled:!0}},{title:"学号",key:"tStudent.studentNo",sortable:!0,editForm:{component:{disabled:!0}},form:{valueChange:function(t,e,r,n){n.getColumn,n.mode,n.component,n.immediate,n.getComponent;e&&Object(o["a"])({url:"/teacher/checkstudentNo1/"+e,methods:"get"}).then((function(t){311===t.code?(console.log(t.data.id),r.studentId=t.data.id,r.tStudent.studentName=t.data.studentName):200===t.code&&console.log("没有此用户！")})).catch()}}},{title:"姓名",key:"tStudent.studentName",sortable:!1,addForm:{component:{show:!0}},editForm:{component:{disabled:!0}}},{title:"性别",key:"tStudent.sex",sortable:!1,type:"select",dict:{data:[{value:0,label:"未知"},{value:1,label:"男"},{value:2,label:"女"}]},form:{component:{show:!1}}},{title:"运动时间",key:"duration",sortable:!0},{title:"运动强度(功率)",key:"intensity",sortable:!0,form:{title:"运动强度"},editForm:{component:{show:!0}}},{title:"靶心率上限",key:"thrceil",sortable:!0},{title:"靶心率下限",key:"thrfloor",sortable:!0},{title:"警戒心率",key:"thrsafe",sortable:!0},{title:"处方开始时间",key:"createTime",type:"datetime",sortable:!0,addForm:{component:{show:!1}},editForm:{component:{show:!1}}},{title:"处方当前状态",key:"isEnable",sortable:!1,type:"select",dict:{data:[{value:0,label:"已失效",color:"danger"},{value:1,label:"可用"}]},addForm:{component:{show:!1}},editForm:{component:{show:!1}}}]}},"2b40":function(t,e,r){},"376a":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("d2-container",{class:{"page-compact":t.crud.pageOptions.compact}},[r("d2-crud-x",t._g(t._b({ref:"d2Crud",attrs:{"add-rules":t.addRules,"edit-rules":t.editRules},on:{planhistory:t.handlePlanhistory,plantraining:t.handlePlantraining},scopedSlots:t._u([{key:"priceGroupTitleSlot",fn:function(e){return r("div",{},[r("h3",{staticClass:"group-title",staticStyle:{display:"inline"}},[r("i",{staticClass:"header-icon",class:e.group.icon}),t._v(" "+t._s(e.group.title))])])}}])},"d2-crud-x",t._crudProps,!1),t._crudListeners),[r("div",{attrs:{slot:"header"},slot:"header"},[r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.addRow}},[r("i",{staticClass:"el-icon-plus"}),t._v("新增处方")]),r("crud-toolbar",t._g(t._b({attrs:{search:null,compact:t.crud.pageOptions.compact,columns:t.crud.columns},on:{"update:compact":function(e){return t.$set(t.crud.pageOptions,"compact",e)},refresh:function(e){return t.doRefresh()},"columns-filter-changed":t.handleColumnsFilterChanged}},"crud-toolbar",t._crudToolbarProps,!1),t._crudToolbarListeners))],1)])],1)},o=[],s=r("1b6f"),a=r("1fbf"),d=r("7cd8"),i={name:"HCQplanlist",mixins:[a["d2CrudPlus"].crud],data:function(){var t=this;return{addRules:{tStudent:{studentNo:[{required:!1,message:"请输入学号",trigger:"blur"},{required:!0,validator:function(e,r,n){""!==r&&t.$axios("/teacher/checkstudentNo1/"+r).then((function(t){200===t.data.code?n(new Error("该用户不存在，请重新输入！")):311===t.data.code&&(console.log(t.data.data.id),n())})).catch()},trigger:"blur"}]},duration:[{required:!0,message:"请输入运动时间",trigger:"blur"}],intensity:[{required:!0,message:"请输入运动强度",trigger:"blur"}],thrceil:[{required:!0,message:"请输入靶心率上限",trigger:"blur"}],thrfloor:[{required:!0,message:"请输入靶心率下限",trigger:"blur"}],thrsafe:[{required:!0,message:"请输入警戒心率",trigger:"blur"}]},editRules:{duration:[{required:!0,message:"请输入运动时间",trigger:"blur"}],intensity:[{required:!0,message:"请输入运动强度",trigger:"blur"}],thrceil:[{required:!0,message:"请输入靶心率上限",trigger:"blur"}],thrfloor:[{required:!0,message:"请输入靶心率下限",trigger:"blur"}],thrsafe:[{required:!0,message:"请输入警戒心率",trigger:"blur"}]}}},methods:{getCrudOptions:function(){return s["crudOptions"]},pageRequest:function(t){return Object(d["GetList"])(t,this.crud.searchOptions.form.studentNOorName)},addRequest:function(t){return Object(d["AddHCQ"])(t)},updateRequest:function(t){return Object(d["UpdateHCQ"])(t,t.id,t.studentId)},handlePlanhistory:function(t){this.$router.push({path:"/system/teacher/HCQhistoryPlan",query:{studentId:t.row.studentId,studentName:t.row.tStudent.studentName,studentNo:t.row.tStudent.studentNo}})},handlePlantraining:function(t){this.$router.push({path:"/system/teacher/HCQtrainingRecord",query:{id:t.row.id,studentName:t.row.tStudent.studentName,studentNo:t.row.tStudent.studentNo}})}}},u=i,l=(r("5e03"),r("2877")),c=Object(l["a"])(u,n,o,!1,null,null,null);e["default"]=c.exports},"5e03":function(t,e,r){"use strict";var n=r("2b40"),o=r.n(n);o.a},"7cd8":function(t,e,r){"use strict";r.r(e),r.d(e,"GetList",(function(){return o})),r.d(e,"AddHCQ",(function(){return s})),r.d(e,"UpdateHCQ",(function(){return a}));var n=r("22ce");function o(t,e){return null==e?Object(n["a"])({url:"/teacher/HCQplanlist",method:"post",data:t}):Object(n["a"])({url:"/teacher/studentHCQplan",method:"post",data:t,studentNOorName:e})}function s(t){return Object(n["a"])({url:"/teacher/addHCQplan",method:"post",data:{studentId:t.studentId,duration:t.duration,intensity:t.intensity,thrceil:t.thrceil,thrfloor:t.thrfloor,thrsafe:t.thrsafe}})}function a(t,e){return console.log(e),Object(n["a"])({url:"/teacher/updateHCQplan/"+e,method:"post",data:{studentId:t.studentId,duration:t.duration,intensity:t.intensity,thrceil:t.thrceil,thrfloor:t.thrfloor,thrsafe:t.thrsafe}})}}}]);