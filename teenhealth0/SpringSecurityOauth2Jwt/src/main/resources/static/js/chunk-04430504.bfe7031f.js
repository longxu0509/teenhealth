(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04430504","chunk-3e365510","chunk-2d225b67"],{"2f35":function(e,t,r){"use strict";r.r(t),r.d(t,"crudOptions",(function(){return s}));r("b65f"),r("6f23");var s={options:{height:"100%"},formOptions:{saveRemind:!0},viewOptions:{disabled:!1},rowHandle:{fixed:"right",view:{show:!1},width:265},columns:[{title:"姓名",key:"NameStudentNo",sortable:!1,search:{disabled:!1},show:!1,form:{disabled:!0},view:{disabled:!0}},{title:"账号",key:"studentNo",sortable:!0,editForm:{component:{disabled:!0}}},{title:"姓名",key:"studentName",sortable:!1},{title:"性别",key:"sex",sortable:!1,type:"select",dict:{data:[{value:0,label:"未知"},{value:1,label:"男"},{value:2,label:"女"}]}},{title:"年龄",key:"age",sortable:!0},{title:"身高(cm)",key:"stature",sortable:!0},{title:"体重(kg)",key:"weight",sortable:!0},{title:"BMI",key:"bmi",sortable:!0,addForm:{component:{show:!1}},editForm:{component:{disabled:!0}},valueBuilder:function(e,t){e.bmi=Math.trunc(e.bmi)}},{title:"备注",key:"medical",sortable:!1}]}},b65f:function(e,t,r){var s=r("23e7"),a=Math.ceil,i=Math.floor;s({target:"Math",stat:!0},{trunc:function(e){return(e>0?i:a)(e)}})},ce99:function(e,t,r){"use strict";var s=r("e1d0"),a=r.n(s);a.a},e1d0:function(e,t,r){},e622:function(e,t,r){"use strict";r.r(t),r.d(t,"GetList",(function(){return a})),r.d(t,"AddObj",(function(){return i})),r.d(t,"UpdateObj",(function(){return u})),r.d(t,"DelObj",(function(){return n}));var s=r("22ce");function a(e,t){return null==t?Object(s["a"])({url:"/teacher/studentList1",method:"post",data:e}):Object(s["a"])({url:"/teacher/selectByNameStudentNo1",method:"post",data:e,NameStudentNo:t})}function i(e){return Object(s["a"])({url:"/teacher/addstudent1",method:"post",data:{studentNo:e.studentNo,studentName:e.studentName,sex:e.sex,age:e.age,stature:e.stature,weight:e.weight,medical:e.medical}})}function u(e,t){return Object(s["a"])({url:"/teacher/editstudent1/"+t,method:"post",data:{studentName:e.studentName,sex:e.sex,age:e.age,stature:e.stature,weight:e.weight,medical:e.medical}})}function n(e){return Object(s["a"])({url:"/teacher/deletestudent1/"+e,method:"get",data:{id:e}})}},e6bc:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("d2-container",{class:{"page-compact":e.crud.pageOptions.compact}},[r("d2-crud-x",e._g(e._b({ref:"d2Crud",attrs:{"add-rules":e.addRules,"edit-rules":e.editRules},on:{cardio:e.handleCardio,somatic:e.handleSomatic,fitness:e.handleFitness,bodyComposition:e.handleBodyCompositionTest,downLoad:e.handleDownload},scopedSlots:e._u([{key:"priceGroupTitleSlot",fn:function(t){return r("div",{},[r("h3",{staticClass:"group-title",staticStyle:{display:"inline"}},[r("i",{staticClass:"header-icon",class:t.group.icon}),e._v(" "+e._s(t.group.title))])])}}])},"d2-crud-x",e._crudProps,!1),e._crudListeners),[r("div",{attrs:{slot:"header"},slot:"header"},[r("crud-search",{ref:"search",attrs:{options:e.crud.searchOptions},on:{submit:e.handleSearch}}),r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.addRow}},[r("i",{staticClass:"el-icon-plus"}),e._v("新增用户")]),r("crud-toolbar",e._g(e._b({attrs:{search:e.crud.searchOptions.show,compact:e.crud.pageOptions.compact,columns:e.crud.columns},on:{"update:search":function(t){return e.$set(e.crud.searchOptions,"show",t)},"update:compact":function(t){return e.$set(e.crud.pageOptions,"compact",t)},refresh:function(t){return e.doRefresh()},"columns-filter-changed":e.handleColumnsFilterChanged}},"crud-toolbar",e._crudToolbarProps,!1),e._crudToolbarListeners))],1)])],1)},a=[],i=(r("c975"),r("2f35")),u=r("1fbf"),n=r("e622"),d=r("a18c"),o={name:"studentList",mixins:[u["d2CrudPlus"].crud],data:function(){var e=this;return{input2:"",addRules:{studentNo:[{required:!0,message:"请输入用户账号",trigger:"blur"},{required:!0,validator:function(t,r,s){""!==r&&e.$axios("/teacher/checkstudentNo1/"+r).then((function(e){311===e.data.code?s(new Error("用户账号重复，请重新输入！")):200===e.data.code&&(console.log("用户账号不重复"),s())})).catch()},trigger:"blur"}],studentName:[{required:!0,message:"请输入姓名",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{pattern:/^\d+$/,message:"必须为整数",trigger:"change"}],stature:[{required:!0,message:"请输入身高",trigger:"blur"}],weight:[{required:!0,message:"请输入体重",trigger:"blur"}]},editRules:{studentName:[{required:!0,message:"请输入姓名",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{pattern:/^\d+$/,message:"必须为整数",trigger:"change"}],stature:[{required:!0,message:"请输入身高",trigger:"blur"}],weight:[{required:!0,message:"请输入体重",trigger:"blur"}],bmi:[{required:!0,message:"请输入BMI",trigger:"blur"}],heartRate:[{required:!0,message:"请输入静息心率",trigger:"blur"}],leftSight:[{required:!0,message:"请输入左眼视力",trigger:"blur"}],rightSight:[{required:!0,message:"请输入右眼视力",trigger:"blur"}],classId:[{required:!0,message:"请输入班级编号",trigger:"blur"}]}}},methods:{getCrudOptions:function(){return i["crudOptions"]},pageRequest:function(e){return Object(n["GetList"])(e,this.crud.searchOptions.form.NameStudentNo)},addRequest:function(e){return Object(n["AddObj"])(e)},updateRequest:function(e){return Object(n["UpdateObj"])(e,e.id)},delRequest:function(e){return Object(n["DelObj"])(e.id)},handleCardio:function(e){this.$router.push({path:"/system/teacher/cardiopulmonary",query:{studentId:e.row.id}})},handleSomatic:function(e){this.$router.push({path:"/system/teacher/somaticgame",query:{studentId:e.row.id}})},handleFitness:function(e){this.$router.push({path:"/system/teacher/fitnessHistory",query:{studentId:e.row.id}})},handleBodyCompositionTest:function(e){this.$router.push({path:"/system/teacher/bodyCompositionHistory",query:{studentNo:e.row.studentNo}})},handleDownload:function(e){this.$axios.get("/teacher/output/"+e.row.id);var t=window.document.location.href,r=d["a"].path,s=t.indexOf(r),a=t.substring(0,s-2),i=a+"/teacher/output/"+e.row.id;window.open(i),this.$message.success("下载成功！")}}},c=o,l=(r("ce99"),r("2877")),h=Object(l["a"])(c,s,a,!1,null,null,null);t["default"]=h.exports}}]);