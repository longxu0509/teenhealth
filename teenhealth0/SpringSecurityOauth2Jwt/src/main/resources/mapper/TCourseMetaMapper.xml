<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="springboot.mybatis.mapper.TCourseMetaMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="springboot.mybatis.po.TCourseMeta">
        <id column="id" property="id" />
        <result column="code" property="code" />
        <result column="course_name" property="courseName" />
        <result column="type" property="type" />
        <result column="position" property="position" />
        <result column="level" property="level" />
        <result column="number" property="number" />
        <result column="img" property="img" />
        <result column="path" property="path" />
        <result column="detail" property="detail" />
        <result column="is_AI" property="isAi" />
        <result column="freq" property="freq" />
        <result column="period" property="period" />
        <result column="time" property="time" />
        <result column="calories" property="calories" />
        <result column="update_time" property="updateTime" />
        <result column="create_time" property="createTime" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, code, course_name, type, position, level, number, img, path, detail, is_AI, freq, period, time, calories, update_time, create_time
    </sql>

    <select id="selectByConditinon" resultMap="BaseResultMap">
        select *
        from t_course_meta
        where type = #{type} and position= #{position} and level in(#{level}, 0) order by rand() limit 2;
    </select>

    <select id="selectByCode" resultMap="BaseResultMap">
        select *
        from t_course_meta
        where code = #{courseCode};
    </select>

    <select id="getCourseList" resultMap="BaseResultMap">
        select *
        from t_course_meta
        where is_AI = #{isAI};
    </select>

</mapper>
